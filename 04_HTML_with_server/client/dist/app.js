!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t){const n=$("#list"),o=$("#micro"),i=$("#stream"),r=$("#response");n.addEventListener("click",(async function(){a.on("allAudioMessages",(async function(e){r.innerHTML="";const t=document.createElement("ul");r.appendChild(t);const n=await e.json();console.log(n);for(let e=0;e<n.length;e++){const o=document.createElement("li"),i=new Blob([new Uint8Array(n[e].audioBlob[0].data).buffer]);o.innerHTML="Voice: "+n[e].timeStamp.slice(0,-38),t.appendChild(o),o.addEventListener("click",()=>{const e=URL.createObjectURL(i);new Audio(e).play()})}}))})),o.addEventListener("click",(function(){r.innerHTML="Active: speaker-mode";let e=document.createElement("button");e.id="start",e.innerHTML="Start";let t=document.createElement("button");t.id="stop",t.innerHTML="Stop",r.appendChild(e),r.appendChild(t),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(e=>{const t=new MediaRecorder(e);document.getElementById("start").addEventListener("click",(function(){t.start(),a.emit("startRecording")}));let n=[];t.addEventListener("dataavailable",(function(e){n.push(e.data)})),document.getElementById("stop").addEventListener("click",(function(){t.stop()})),t.addEventListener("stop",(function(){new Blob(n,{type:"audio/wav"});a.emit("audioMessage",n),console.log("audiochunks emited"),n=[]}))})})),i.addEventListener("click",(function(){r.innerHTML="Active: listener-mode",a.emit("getAudioMessages")}));var a=io();a.on("audioMessage",(function(e){const t=new Blob(e),n=URL.createObjectURL(t);new Audio(n).play()})),a.on("playAudio",()=>{document.getElementById("tempAudio").play()})}]);